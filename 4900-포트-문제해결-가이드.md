# 🚨 4900 포트 문제 해결 가이드

## 🔍 **문제 진단**

### **증상:**
- 서버는 실행되지만 `http://localhost:4900` 접속 불가
- WSL에서 서버는 정상 실행 중
- Windows 브라우저에서 접속 실패

### **원인:**
1. **WSL 포트 바인딩 문제**: WSL이 `127.0.0.1`에만 바인딩
2. **Windows-WSL 포트 연결 문제**: Windows에서 WSL 포트 접근 불가
3. **방화벽/보안 소프트웨어**: 포트 차단

## 🛠️ **해결 방법**

### **방법 1: 자동 해결 (권장)**
```bash
# Windows에서 실행
fix-port-4900.bat
```

### **방법 2: 수동 해결**
```bash
# WSL에서 실행
cd /home/rsvshop/projects/rsvshop

# 기존 프로세스 종료
pkill -f "next dev"

# HOSTNAME 설정으로 서버 시작
HOSTNAME=0.0.0.0 npm run dev
```

### **방법 3: 대체 접속 방법**
```bash
# 다음 URL들을 시도해보세요:
http://127.0.0.1:4900
http://0.0.0.0:4900
http://[WSL_IP]:4900
```

## 🔧 **설정 파일 수정사항**

### **package.json**
```json
"dev": "NODE_ENV=wsl HOSTNAME=0.0.0.0 NODE_OPTIONS='--max-old-space-size=2048 --max-semi-space-size=128' npx next dev --port 4900 --turbo --experimental-https"
```

### **next.config.js**
```javascript
const nextConfig = {
  hostname: '0.0.0.0',
  port: 4900,
  // ... 기타 설정
};
```

## 📱 **접속 테스트**

### **1단계: 서버 상태 확인**
```bash
# WSL에서
ss -tlnp | grep :4900
```

### **2단계: 브라우저에서 접속**
- `http://localhost:4900`
- `http://127.0.0.1:4900`
- `http://0.0.0.0:4900`

### **3단계: curl로 테스트**
```bash
# Windows에서
curl http://localhost:4900
curl http://127.0.0.1:4900
```

## 🚨 **문제가 지속되는 경우**

### **WSL 재시작**
```bash
# Windows에서
wsl --shutdown
# WSL 다시 시작 후
wsl -d Ubuntu
```

### **포트 충돌 확인**
```bash
# Windows에서
netstat -ano | findstr :4900
```

### **방화벽 확인**
- Windows Defender 방화벽 설정
- 바이러스 백신 소프트웨어 포트 차단 여부

## 📞 **지원**
- `fix-port-4900.bat` 실행
- `dev-server.log` 확인
- WSL 포트 상태 확인: `ss -tlnp | grep :4900`
