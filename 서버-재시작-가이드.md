# 🚀 RSVShop 서버 재시작 가이드

## 🔧 **무한로딩 문제 해결 방법**

### 1. **자동 재시작 (권장)**
```bash
# Windows에서 실행
restart-server.bat
```

### 2. **수동 재시작**
```bash
# WSL에서 실행
cd /home/rsvshop/projects/rsvshop

# 기존 프로세스 종료
pkill -f "next dev"
pkill -f "node"

# 캐시 정리
rm -rf .next
rm -rf node_modules/.cache

# 서버 재시작 (최적화된 설정)
npm run dev
```

### 3. **문제 진단**
```bash
# 포트 확인
ss -tlnp | grep :4900

# 프로세스 확인
ps aux | grep node

# 메모리 사용량 확인
free -h
```

## 🚨 **주요 문제 및 해결책**

### **Prisma 스키마 오류**
- ✅ `roomId` 필드 null 허용 처리 완료
- ✅ `guestCount` 필드 제거 완료
- ✅ `BookingItem` 스키마 수정 완료

### **포트 충돌**
- ✅ 4900번 포트 전용 사용
- ✅ 3900번 포트 충돌 해결

### **메모리 최적화**
- ✅ `--max-old-space-size=2048` 설정
- ✅ `--turbo` 모드 활성화
- ✅ `--experimental-https` 추가

## 📱 **접속 정보**
- **관리자 페이지**: http://localhost:4900/admin
- **메인 페이지**: http://localhost:4900
- **고객용 서버**: http://localhost:5990

## 🔍 **문제가 지속되는 경우**
1. WSL 재시작: `wsl --shutdown` (Windows에서)
2. Node.js 캐시 정리: `npm cache clean --force`
3. 의존성 재설치: `rm -rf node_modules && npm install`
4. Prisma 재생성: `npx prisma generate`

## 📞 **지원**
문제가 해결되지 않으면 로그를 확인하세요:
- `dev-server.log`: 서버 실행 로그
- `logs/`: 상세 오류 로그
